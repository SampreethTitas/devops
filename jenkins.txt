#Dockerfile
FROM jenkins/jenkins:lts


USER root

RUN apt-get update && \
    apt-get install -y --no-install-recommends docker.io && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

USER jenkins

#docker-compose.yml
services:
  jenkins:
    build: .
    container_name: jenkins-ci
    ports:
      - "8080:8080"
      - "5000:5000"
    volumes:
      - jenkins_home:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock

volumes:
  jenkins_home:




docker compose up -d --build
docker exec -it jenkins-ci cat /var/jenkins_home/secrets/initialAdminPassword
